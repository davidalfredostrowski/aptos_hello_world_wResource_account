sudo apt-get update
sudo apt-get install -y ca-certificates curl gnupg
sudo mkdir -p /etc/apt/keyrings
curl -fsSL https://deb.nodesource.com/gpgkey/nodesource-repo.gpg.key | sudo gpg --dearmor -o /etc/apt/keyrings/nodesource.gpg
NODE_MAJOR=20
echo "deb [signed-by=/etc/apt/keyrings/nodesource.gpg] https://deb.nodesource.com/node_$NODE_MAJOR.x nodistro main" | sudo tee /etc/apt/sources.list.d/nodesource.list
sudo apt-get update
sudo apt-get install nodejs -y
node -v
npm i aptos
sudo npm install -g pnpm
sudo apt install python3-pip
pip3 install aptos-sdk
git clone https://github.com/aptos-labs/aptos-core.git
curl -fsSL "https://aptos.dev/scripts/install_cli.py" | python3

ubuntu@ip-172-31-41-25:~/aptos-core/aptos-move/move-examples/hello_blockchain$ /home/ubuntu/.local/bin/aptos  init
Configuring for profile default
Choose network from [devnet, testnet, mainnet, local, custom | defaults to devnet]

No network given, using devnet...
Enter your private key as a hex literal (0x...) [Current: None | No input: Generate new key (or keep one if present)]

No key given, generating key...
Account 0xfb9b8e6fb8c4d136b5b75375e7ab468f9a1200edda2812c356b54f8c278b8dd7 doesn't exist, creating it and funding it with 100000000 Octas
Account 0xfb9b8e6fb8c4d136b5b75375e7ab468f9a1200edda2812c356b54f8c278b8dd7 funded successfully

---
Aptos CLI is now set up for account 0xfb9b8e6fb8c4d136b5b75375e7ab468f9a1200edda2812c356b54f8c278b8dd7 as profile default!  Run `aptos --help` for more information about commands
{
  "Result": "Success"
}




ubuntu@ip-172-31-41-25:~/aptos-core/aptos-move/move-examples/hello_blockchain$ /home/ubuntu/.local/bin/aptos move create-resource-account-and-publish-package --seed 1235 --address-name hello_blockchain  --profile default --named-addresses source_addr=0xfb9b8e6fb8c4d136b5b75375e7ab468f9a1200edda2812c356b54f8c278b8dd7




ubuntu@ip-172-31-41-25:~/aptos-core/aptos-move/move-examples/hello_blockchain$ /home/ubuntu/.local/bin/aptos move create-resource-account-and-publish-package --seed 1235 --address-name hello_blockchain  --profile default --named-addresses source_addr=0xfb9b8e6fb8c4d136b5b75375e7ab468f9a1200edda2812c356b54f8c278b8dd7
Compiling, may take a little while to download git dependencies...
INCLUDING DEPENDENCY AptosFramework
INCLUDING DEPENDENCY AptosStdlib
INCLUDING DEPENDENCY MoveStdlib
BUILDING Examples
warning[W09001]: unused alias
  ┌─ /home/ubuntu/aptos-core/aptos-move/move-examples/hello_blockchain/sources/hello_blockchain.move:8:26
  │
8 │     use aptos_framework::account;
  │                          ^^^^^^^ Unused 'use' of alias 'account'. Consider removing it

warning[W09003]: unused assignment
   ┌─ /home/ubuntu/aptos-core/aptos-move/move-examples/hello_blockchain/sources/hello_blockchain.move:59:13
   │
59 │         let module_data = borrow_global_mut<ModuleData>(@hello_blockchain);
   │             ^^^^^^^^^^^ Unused assignment or binding for local 'module_data'. Consider removing, replacing with '_', or prefixing with '_' (e.g., '_module_data')

warning: unused alias
  ┌─ /home/ubuntu/aptos-core/aptos-move/move-examples/hello_blockchain/sources/hello_blockchain.move:8:26
  │
8 │     use aptos_framework::account;
  │                          ^^^^^^^ Unused 'use' of alias 'account'. Consider removing it

warning: unused assignment
   ┌─ /home/ubuntu/aptos-core/aptos-move/move-examples/hello_blockchain/sources/hello_blockchain.move:59:13
   │
59 │         let module_data = borrow_global_mut<ModuleData>(@hello_blockchain);
   │             ^^^^^^^^^^^ Unused assignment or binding for local 'module_data'. Consider removing, replacing with '_', or prefixing with '_' (e.g., '_module_data')

Do you want to publish this package under the resource account's address 0x26703ff155138d3f75cd4d38977ee5b2864721c99cd99aadea39fc923b1868c7? [yes/no] >
yes
package size 2299 bytes
Do you want to submit a transaction for a range of [269500 - 404200] Octas at a gas unit price of 100 Octas? [yes/no] >
yes
{
  "Result": "Success"
}



ubuntu@ip-172-31-41-25:~/aptos-core/aptos-move/move-examples/hello_blockchain$
/home/ubuntu/.local/bin/aptos move run --function-id '0x26703ff155138d3f75cd4d38977ee5b2864721c99cd99aadea39fc923b1868c7::message::set_message'  --args 'string:hello, blockchain'
Do you want to submit a transaction for a range of [50300 - 75400] Octas at a gas unit price of 100 Octas? [yes/no] >
yes
{
  "Result": {
    "transaction_hash": "0x3ed61fa71fedba68f733e9d0fbf679ba96839ee018b10004cbb794ae8270dfa6",
    "gas_used": 503,
    "gas_unit_price": 100,
    "sender": "fb9b8e6fb8c4d136b5b75375e7ab468f9a1200edda2812c356b54f8c278b8dd7",
    "sequence_number": 1,
    "success": true,
    "timestamp_us": 1700952953292846,
    "version": 1796094,
    "vm_status": "Executed successfully"
  }
}

#### one problem  - i cannot read the resource, using the resource account...

pulling in the resouce_account information is not helping either


INCLUDING DEPENDENCY AptosFramework
INCLUDING DEPENDENCY AptosStdlib
INCLUDING DEPENDENCY MoveStdlib
BUILDING Examples
warning[W09001]: unused alias
  ┌─ /home/ubuntu/aptos-core/aptos-move/move-examples/hello_blockchain/sources/hello_blockchain.move:3:14
  │
3 │     use std::signer;
  │              ^^^^^^ Unused 'use' of alias 'signer'. Consider removing it

error[E03002]: unbound module
   ┌─ /home/ubuntu/aptos-core/aptos-move/move-examples/hello_blockchain/sources/hello_blockchain.move:68:28
   │
68 │         let account_addr = resource_signer::address_of(&account);
   │                            ^^^^^^^^^^^^^^^ Unbound module alias 'resource_signer'

{
  "Error": "Unexpected error: Compilation error"
}



https://explorer.aptoslabs.com/txn/0x55f5e906a9338080f0029dbd2df19b6c4563c4a86b7bbcd225c67630d3b24133?network=devnet

https://explorer.aptoslabs.com/txn/0x3ed61fa71fedba68f733e9d0fbf679ba96839ee018b10004cbb794ae8270dfa6?network=devnet
Version: 
1796094
Status: 
Success

Sender: 
Identicon
0xfb9b…8dd7
Smart Contract: 
Identicon
0x2670…68c7
Function: 
message::set_message
Amount: 
0 APT

######## problem with creating account on a claimed account - reset the seed!



ubuntu@ip-172-31-41-25:~/aptos-core/aptos-move/move-examples/hello_blockchain$ /home/ubuntu/.local/bin/aptos move create-resource-account-and-publish-package --seed 1235 --address-name hello_blockchain --profile default --named-addresses source_addr=0xfb9b8e6fb8c4d136b5b75375e7ab468f9a1200edda2812c356b54f8c278b8dd7
Compiling, may take a little while to download git dependencies...
INCLUDING DEPENDENCY AptosFramework
INCLUDING DEPENDENCY AptosStdlib
INCLUDING DEPENDENCY MoveStdlib
BUILDING Examples
warning[W09001]: unused alias
  ┌─ /home/ubuntu/aptos-core/aptos-move/move-examples/hello_blockchain/sources/hello_blockchain.move:8:26
  │
8 │     use aptos_framework::account;
  │                          ^^^^^^^ Unused 'use' of alias 'account'. Consider removing it

warning: unused alias
  ┌─ /home/ubuntu/aptos-core/aptos-move/move-examples/hello_blockchain/sources/hello_blockchain.move:8:26
  │
8 │     use aptos_framework::account;
  │                          ^^^^^^^ Unused 'use' of alias 'account'. Consider removing it

Do you want to publish this package under the resource account's address 0x26703ff155138d3f75cd4d38977ee5b2864721c99cd99aadea39fc923b1868c7? [yes/no] >
yes
package size 2249 bytes
{
  "Error": "Simulation failed with status: Move abort in 0x1::account: ERESOURCE_ACCCOUNT_EXISTS(0x8000f): An attempt to create a resource account on a claimed account"
}
ubuntu@ip-172-31-41-25:~/aptos-core/aptos-move/move-examples/hello_blockchain$ /home/ubuntu/.local/bin/aptos move create-resource-account-and-publish-package --seed 5235 --address-name hello_blockchain --profile default --named-addresses source_addr=0xfb9b8e6fb8c4d136b5b75375e7ab468f9a1200edda2812c356b54f8c278b8dd7
Compiling, may take a little while to download git dependencies...
INCLUDING DEPENDENCY AptosFramework
INCLUDING DEPENDENCY AptosStdlib
INCLUDING DEPENDENCY MoveStdlib
BUILDING Examples
warning[W09001]: unused alias
  ┌─ /home/ubuntu/aptos-core/aptos-move/move-examples/hello_blockchain/sources/hello_blockchain.move:8:26
  │
8 │     use aptos_framework::account;
  │                          ^^^^^^^ Unused 'use' of alias 'account'. Consider removing it

warning: unused alias
  ┌─ /home/ubuntu/aptos-core/aptos-move/move-examples/hello_blockchain/sources/hello_blockchain.move:8:26
  │
8 │     use aptos_framework::account;
  │                          ^^^^^^^ Unused 'use' of alias 'account'. Consider removing it

Do you want to publish this package under the resource account's address 0x97c0fb3a3950175b25b7a69a72856fdf9fb46d3d20c280f8d75edbb29ddfae45? [yes/no] >
yes
package size 2249 bytes
Do you want to submit a transaction for a range of [267900 - 401800] Octas at a gas unit price of 100 Octas? [yes/no] >
yes
{
  "Result": "Success"
}
ubuntu@ip-172-31-41-25:~/aptos-core/aptos-move/move-examples/hello_blockchain$





